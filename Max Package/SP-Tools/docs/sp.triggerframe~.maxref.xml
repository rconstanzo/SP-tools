<?xml version='1.0' encoding='utf-8' standalone='yes'?>
<?xml-stylesheet href="./_c74_ref.xsl" type="text/xsl"?>

<c74object name='sp.triggerframe~' category='' module='SP-Tools'>
    <digest>Buffer recording for frame analysis on trigger input
</digest>
    <description>Buffer recording for frame analysis on trigger input.
</description>
    <discussion><h4><openfilelink filename="SP-Tools Overview.maxpat">Open the Overview Patch</openfilelink></h4>
The <o>sp.triggerframe~</o> records audio into a rolling <o>buffer~</o> to be analyzed by descriptor objects down the line. Takes a trigger, gate, or bang as its input to output the frame to analyze. This is mainly useful when you want to trigger descriptor analysis based on another process so onset detection is no longer necessary.
</discussion>

	<metadatalist>
		<metadata name='author'>Rodrigo Constanzo, Flucoma Project</metadata>
		<metadata name='tag'>Machine Learning</metadata>
		<metadata name='tag'>Audio Analysis</metadata>
		<metadata name='tag'>Onset Detection</metadata>
		<metadata name='tag'>Corpus Playback</metadata>
	</metadatalist>

    <!-- INLETS -->
    <inletlist>
        <inlet id='0' type='signal'>
            <digest>Audio and control in
</digest>
            <description>Audio input to analyze.
</description>
        </inlet>
        <inlet id='1' type='signal'>
            <digest>Trigger, gate, or bang input
</digest>
            <description>Trigger, gate, or bang input.
</description>
        </inlet>
    </inletlist>
    <!-- INLETS -->

    <!-- OUTLETS -->
    <outletlist>
        <outlet id='0' type='list'>
            <digest>Sample position to beging analysis from
</digest>
            <description>Sample position to analyze in rolling <o>buffer~</o> along with <o>buffer~</o> name.
</description>
        </outlet>
    </outletlist>
    <!-- OUTLETS -->

    <!-- ARGUMENTS -->
    <objarglist>
    </objarglist>
    <!-- ARGUMENTS -->

    <!--MESSAGES-->
    <methodlist>
	</methodlist>
	<!--MESSAGES-->

	<!--ATTRIBUTES-->
	<attributelist>
        <attribute 
        name='delay' 
        type='int' 
        size='1'
        get='1' set='1' 
        >
        <digest>Amount of time to wait before sending frame to analyze
</digest>
        <description>Amount of time to wait, in samples, before sending frame to analyze.
</description>

        <attributelist>
            <attribute 
            name='default' 
            type='int' 
            size='1' 
            value='256'
            get='1' set='1' 
            />
        </attributelist>
        </attribute>
	</attributelist>
	<!--ATTRIBUTES-->

	<!-- SEEALSO -->
	<seealsolist>
        <seealso name='sp.descriptorframe' />
        <seealso name='sp.melbandframe' />
        <seealso name='sp.mfccframe' />
        <seealso name='sp.onsetframe~' />
        <seealso name='sp.sineframe' />
	</seealsolist>
	<!-- SEEALSO -->
</c74object>