<?xml version='1.0' encoding='utf-8' standalone='yes'?>
<?xml-stylesheet href="./_c74_ref.xsl" type="text/xsl"?>
<!--
SP-Tools is built on top of the Fluid Corpus Manipulation Project (http://www.flucoma.org/)
Copyright 2017-2019 University of Huddersfield.
Licensed under the BSD-3 License.
See license.md file in the project root for full license information.
-->
<!-- DO NOT EDIT THIS FILE ... YOU WILL LOSE YOUR WORK ... THIS IS NOT STRICTLY TRUE FOR karma~ -->

<c74object name="sp.classmatch" module="SP-Tools" category="">      <!-- do we need "category" here ? -->
	<digest>Finds nearest class based on MFCC input</digest>
	<description>Finds the nearest match based on pre-trained classes/clusters.</description>
      <discussion>
      <h4><openfilelink filename="karma_overview.maxpat">Open the Overview Patch</openfilelink></h4>
            <p>The <o>sp.classmatch</o> object will find the nearest match in a set of pre-trained classes or clusters. The classes can be the default Sensory Percussion classes, auto-generated cluster names, or any arbitrary labels.</p>
      </discussion>
	<!--METADATA-->
	<metadatalist>
		<metadata name="author">Rodrigo Constanzo, FluCoMa Project</metadata>
		<metadata name="tag">Machine Learning</metadata>
		<metadata name="tag">Drums</metadata>
	</metadatalist>
	<!--INLETS-->
	<inletlist>
		<inlet id="0" type="list">
			<digest>
				<o>buffer~</o> and control in
			</digest>
			<description>
                Takes incoming <o>buffer~</o> name to find the nearest class match, as well as handling all <m>message</m> inputs.
			</description>
		</inlet>
	</inletlist>
	<!--OUTLETS-->
	<outletlist>
		<outlet id="0" type="list">
			<digest>
				Matched class
			</digest>
			<description>
                The nearest match in the pre-trained classifier.
			</description>
		</outlet>
		<outlet id="1" type="list">
			<digest>
				Dict out for visualization
			</digest>
			<description>
                <o>dictionary</o> output for displaying in <o>sp.plotter</o>
			</description>
		</outlet>
	</outletlist>
	<!--ARGUMENTS-->
	<!--MESSAGES-->
      <methodlist>
            <method name="load">
                  <arglist />
                  <digest>
                        Load a pre-trained classsifier
                  </digest>
                  <description>
                        Opens file dialog to select pre-trained classifer <b>.json</b> file.
                  </description>
            </method>
			<method name="read">
                  <arglist />
                  <digest>
                        Read a pre-trained classifier
                  </digest>
                  <description>
                        Reads a pre-trained classifier directly from a relative or absolute path.
                  </description>
            </method>
			<method name="clear">
                  <arglist />
                  <digest>
                        Clears the loaded classifer
                  </digest>
                  <description>
                        Clears the loaded classifer.
                  </description>
            </method>
			<method name="reset">
                  <arglist />
                  <digest>
                        Resets the loaded classifier
                  </digest>
                  <description>
                        Resets the loaded classifier.
                  </description>
            </method>
      </methodlist>
	<!--ATTRIBUTES-->
	<!--RELATED-->
	<seealsolist>
            <seealso name="sp.classtrain" />
            <seealso name="sp.clustertrain" />
            <seealso name="sp.classifierdisplay" />
      </seealsolist>
	<misc name="Input">
		<entry name="list">
			<description>
                        <o>buffer~</o> and control in
                        <br />
				<br />
                        Takes incoming <o>buffer~</o> name to find the nearest class match, as well as handling all <m>message</m> inputs.
			</description>
		</entry>
	</misc>
	<misc name="Output">
		<entry name="list">
			<description>
				Matched Class
				<br />
				<br />
				The nearest match in the pre-trained classifier.
			</description>
		</entry>
		<entry name="list">
			<description>
				Dict out for visualization
				<br />
				<br />
				<o>dict</o> output for displaying in <o>sp.plotter</o>
			</description>
		</entry>
	</misc>
</c74object>