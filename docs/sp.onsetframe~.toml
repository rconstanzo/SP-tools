[object]
name = "sp.onsetframe~"
module = "SP-Tools"
category = ""
digest = "Amplitude-based onset detection and <o>buffer~</o> recording"
seealso =  ['sp.descriptordisplay', 'sp.descriptorframe', 'sp.descriptors~', 'sp.descriptorsrt~', 'sp.realtimeframe~']
description = "Amplitude-based onset detection and <o>buffer~</o> recording."
discussion = """
    <h4><openfilelink filename="SP-Tools Overview.maxpat">Open the Overview Patch</openfilelink></h4>
    <p>The <o>sp.onsetframe~</o> object takes audio input, just like <o>sp.onset~</o> but instead of outputting just a bang/trigger/gate, it outputs the frame to start descriptor analysis. <o>sp.onsetframe~</o> is useful when you want to analyze multiple descriptors and want them to all refer to the same exact analysis frame.</p>
"""

[metadata]
author = "Rodrigo Constanzo, Flucoma Project"
tags = ['Machine Learning', 'Drums']

[inlets]
[inlets.0]
type="signal"
digest="SP Sensor or Contact Mic input"
description="Audio input from an SP Sensor or Contact Mic to be used for onset detection."

[inlets.1]
type="signal"
digest="Air Microphone input"
description="Audio input from an air microphone when being used in different <at>input</at> modes."

[outlets]
[outlets.0]
type="list"
digest="Sample position to beging analysis from"
description="Sample position to analyze in rolling <o>buffer~</o> along with <o>buffer~</o> name."

[outlets.1]
type="signal"
digest="Trigger output"
description="Analyzed onset as a trigger, delay-compensated based on the current <at>delay</at> settings."

[outlets.2]
type="signal"
digest="Gate output"
description="Analyzed onset as a gate, delay-compensated based on the current <at>delay</at> settings."

[messages.load]
digest = "Load a pre-trained concat <b>.json</b> file"
description = "Opens file dialog to select pre-trained concat <b>.json</b> file."

[messages.read]
digest = "Read a pre-trained concat <b>.json</b> file"
description = "Reads a pre-trained concat <b>.json</b> file directly from a relative or absolute path."